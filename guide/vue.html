<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue学习 | 满船清梦压星河</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/docs/favicon.ico">
    <link rel="manifest" href="/docs/manifest.json">
    <meta name="description" content="Peter Pan 的个人练习站">
    <meta name="author" content="满船清梦压星河">
    <meta name="keywords" content="vuepress练习，个人博客部署，满船清梦压星河">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/docs/assets/css/0.styles.9db588da.css" as="style"><link rel="preload" href="/docs/assets/js/app.4b9f73a3.js" as="script"><link rel="preload" href="/docs/assets/js/2.74069bf9.js" as="script"><link rel="preload" href="/docs/assets/js/19.202e972f.js" as="script"><link rel="preload" href="/docs/assets/js/3.78921c3a.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.966477d2.js"><link rel="prefetch" href="/docs/assets/js/11.c1e60dd1.js"><link rel="prefetch" href="/docs/assets/js/12.ef5915b3.js"><link rel="prefetch" href="/docs/assets/js/13.0839faed.js"><link rel="prefetch" href="/docs/assets/js/14.e2e49f7a.js"><link rel="prefetch" href="/docs/assets/js/15.110ffbaf.js"><link rel="prefetch" href="/docs/assets/js/16.895331e4.js"><link rel="prefetch" href="/docs/assets/js/17.852c8a34.js"><link rel="prefetch" href="/docs/assets/js/18.c1eb0c91.js"><link rel="prefetch" href="/docs/assets/js/20.46f946f3.js"><link rel="prefetch" href="/docs/assets/js/21.23141ea8.js"><link rel="prefetch" href="/docs/assets/js/22.0711d4bd.js"><link rel="prefetch" href="/docs/assets/js/23.fa6efd17.js"><link rel="prefetch" href="/docs/assets/js/24.9fd268c2.js"><link rel="prefetch" href="/docs/assets/js/25.9b9d2e50.js"><link rel="prefetch" href="/docs/assets/js/26.671db004.js"><link rel="prefetch" href="/docs/assets/js/4.9e8986bf.js"><link rel="prefetch" href="/docs/assets/js/5.a9dbf1ed.js"><link rel="prefetch" href="/docs/assets/js/6.a8dcb13d.js"><link rel="prefetch" href="/docs/assets/js/7.30ccf9c3.js"><link rel="prefetch" href="/docs/assets/js/8.a1a79ff7.js"><link rel="prefetch" href="/docs/assets/js/9.1acdd930.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.9db588da.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">满船清梦压星河</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/docs/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/docs/algorithm/" class="nav-link">
  Algorithm
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide/JavaScript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/docs/guide/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/docs/guide/TypeScript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/docs/guide/vue.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue
</a></li></ul></li><li class="dropdown-item"><h4>
          扩展
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide/VuePress.html" class="nav-link">
  VuePress
</a></li><li class="dropdown-subitem"><a href="/docs/guide/deploy.html" class="nav-link">
  Deploy
</a></li><li class="dropdown-subitem"><a href="/docs/guide/webpackTS.html" class="nav-link">
  Webpack
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tool" class="dropdown-title"><span class="title">Tool</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tool" class="mobile-dropdown-title"><span class="title">Tool</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          必备
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/tools/git.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/docs/tools/npm.html" class="nav-link">
  Npm
</a></li><li class="dropdown-subitem"><a href="/docs/tools/regExp.html" class="nav-link">
  RegExp
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/docs/news/" class="nav-link">
  More
</a></div><div class="nav-item"><a href="https://github.com/PeterPH95/docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/docs/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/docs/algorithm/" class="nav-link">
  Algorithm
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide/JavaScript.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/docs/guide/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/docs/guide/TypeScript.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/docs/guide/vue.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue
</a></li></ul></li><li class="dropdown-item"><h4>
          扩展
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/guide/VuePress.html" class="nav-link">
  VuePress
</a></li><li class="dropdown-subitem"><a href="/docs/guide/deploy.html" class="nav-link">
  Deploy
</a></li><li class="dropdown-subitem"><a href="/docs/guide/webpackTS.html" class="nav-link">
  Webpack
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tool" class="dropdown-title"><span class="title">Tool</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tool" class="mobile-dropdown-title"><span class="title">Tool</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          必备
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/tools/git.html" class="nav-link">
  Git
</a></li><li class="dropdown-subitem"><a href="/docs/tools/npm.html" class="nav-link">
  Npm
</a></li><li class="dropdown-subitem"><a href="/docs/tools/regExp.html" class="nav-link">
  RegExp
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/docs/news/" class="nav-link">
  More
</a></div><div class="nav-item"><a href="https://github.com/PeterPH95/docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/guide/vue.html#vue" class="sidebar-link">Vue</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/guide/vue.html#click-native-prevent" class="sidebar-link">@click.native.prevent</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/guide/vue.html#vue2-中设置别名-的方式" class="sidebar-link">Vue2 中设置别名 @ 的方式</a></li></ul></li><li><a href="/docs/guide/vue.html#vue-路由独有的生命周期钩子函数" class="sidebar-link">Vue 路由独有的生命周期钩子函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/guide/vue.html#登录时获取登录的地理位置" class="sidebar-link">登录时获取登录的地理位置</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/guide/vue.html#页面刷新的后果-白屏" class="sidebar-link">页面刷新的后果(白屏)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/guide/vue.html#对-vue-中请求和数据的理解" class="sidebar-link">对 Vue 中请求和数据的理解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/guide/vue.html#不同请求方式获取数据的方式" class="sidebar-link">不同请求方式获取数据的方式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/guide/vue.html#token在项目中的应用场景" class="sidebar-link">Token在项目中的应用场景</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/docs/guide/vue.html#i18n国际化" class="sidebar-link">i18n国际化</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h2> <h2 id="click-native-prevent"><a href="#click-native-prevent" class="header-anchor">#</a> @click.native.prevent</h2> <blockquote><p>给vue组件绑定事件时候，必须加上native ，不然不会生效（监听根元素的原生事件，使用 .native 修饰符）(element-ui(el-button)组件中碰到)</p></blockquote> <h3 id="vue2-中设置别名-的方式"><a href="#vue2-中设置别名-的方式" class="header-anchor">#</a> <code>Vue2</code> 中设置别名 <code>@</code> 的方式</h3> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token comment">// src/build/webpack.base.conf.js 中进行配置</span>
<span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'vue$'</span><span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
      <span class="token string-property property">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="vue-路由独有的生命周期钩子函数"><a href="#vue-路由独有的生命周期钩子函数" class="header-anchor">#</a> <code>Vue</code> 路由独有的生命周期钩子函数</h2> <ul><li>当路由匹配到404页面时，会触发什么钩子函数，离开时触发什么钩子函数？<a href="https://v2.cn.vuejs.org/v2/api/#activated" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// App.vue，被 keep-alive 缓存的组件激活时调用 </span>
<span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive include<span class="token operator">=</span><span class="token string">&quot;NotFound&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
<span class="token comment">// NotFount.vue</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">timer</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 路由组件展示在页面中调用</span>
<span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'组件被激活了'</span><span class="token punctuation">)</span>
  <span class="token comment">// 可以设置定时器</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 路由组件不展示在页面时调用</span>
<span class="token function">deactivated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'组件失活了'</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="登录时获取登录的地理位置"><a href="#登录时获取登录的地理位置" class="header-anchor">#</a> 登录时获取登录的地理位置</h2> <ul><li><a href="https://blog.csdn.net/qq_46302247/article/details/123200329" target="_blank" rel="noopener noreferrer">Node 代理解决跨域<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://cli.vuejs.org/zh/config/#devserver-proxy" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://myip.ipip.net/" target="_blank" rel="noopener noreferrer">接口地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vue.config.js配置</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@vue/cli-service'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// https://www.bilibili.com/index/ding.json  </span>
      <span class="token string-property property">'/aa'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'https://www.bilibili.com'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//如果要代理 websockets，配置这个参数</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//用于控制代理服务器请求头中的host值；</span>
        <span class="token comment">// 若changeOrigin: true时发送请求，代理服务器请求头中的host值与后端服务器的host值一样</span>
        <span class="token comment">// 若changeOrigin: false时发送请求，代理服务器请求头中的host值不变（即：http://localhost:8080）</span>
        <span class="token comment">// ws 和 changeOrigin的默认值都是true，一般都把changeOrigin设置为true</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">'^/aa'</span><span class="token operator">:</span> <span class="token string">''</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string-property property">'/address'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://myip.ipip.net'</span><span class="token punctuation">,</span><span class="token comment">//获取地址的域名</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//允许跨域</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">'^/address'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token comment">//以'/address'标识请求用代理，实际请求时重写去掉'/address'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 请求文件 api/index.js 中设置</span>
<span class="token comment">// 实际访问 http://myip.ipip.net</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getAddr</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/address'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="页面刷新的后果-白屏"><a href="#页面刷新的后果-白屏" class="header-anchor">#</a> 页面刷新的后果(白屏)</h2> <ul><li><code>Vue</code>实例会重走生命周期</li> <li><code>Vuex</code>会丢失数据，因为数据都在缓存中，未持久化</li> <li><code>router</code>路由也会重置，通过路由表返回的动态路由丢失，可以在<code>vue</code>实例中的钩子函数<code>crated()</code>里重新获取</li></ul> <h2 id="对-vue-中请求和数据的理解"><a href="#对-vue-中请求和数据的理解" class="header-anchor">#</a> 对 <code>Vue</code> 中请求和数据的理解</h2> <ul><li>保存在 Vuex store 中的数据和方法
<ul><li>数据：保存状态的数据，比如<strong>侧边栏的折叠状态</strong>，<strong>面包屑</strong></li> <li>方法：驱动视图变化的，<strong>动态的</strong>，会修改数据的方法</li></ul></li> <li>保存在 Mock 中的数据方法
<ul><li>数据：这里面主要包含定死的，模拟后端返回的数据（大量）</li> <li>方法：对前端发送<code>axios</code>请求接口的拦截，同时设置回调函数，通过回调函数传入<code>axios</code>请求的参数，返回特定的数据</li> <li>数据类别：图表和表格数据，根据登录信息返回确定的不同的<strong>路由表</strong>，模拟数据库的<strong>增删改查</strong>操作</li></ul></li></ul> <h2 id="不同请求方式获取数据的方式"><a href="#不同请求方式获取数据的方式" class="header-anchor">#</a> 不同请求方式获取数据的方式</h2> <ul><li><code>GET</code>：参数通过<code>params:{name:'',page:4,limit:20}</code>对象传递，通过<code>url</code>中获取，需设置<code>param2Obj(url)</code>函数将字符串转换成对象
<ul><li>例如：<code>/api/user/getUser?name=&amp;page=4&amp;limit=20</code></li></ul></li> <li><code>POST</code>：参数通过<code>data</code>对象传递，通过<code>JSON.parse(config.body)</code>获取</li></ul> <h2 id="token在项目中的应用场景"><a href="#token在项目中的应用场景" class="header-anchor">#</a> <code>Token</code>在项目中的应用场景</h2> <ul><li>路由跳转：对未登录的无<code>token</code>的跳转行为进行拦截</li> <li>向后端请求数据：拒绝未授权的请求，通过请求拦截器将<code>token</code>设置在请求头的<code>config.headers['Authorization'] = token</code>中</li></ul> <h2 id="i18n国际化"><a href="#i18n国际化" class="header-anchor">#</a> <code>i18n</code>国际化</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>适用场景：表格的表头信息，固定的按钮
注意：如果是动态数据的话，一般是不适合国际化的；如果数据是写死的，就在数据源头将其替换为国际化写法即可</p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2022年11月23日星期三晚上8点51分</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:140px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/docs/assets/js/app.4b9f73a3.js" defer></script><script src="/docs/assets/js/2.74069bf9.js" defer></script><script src="/docs/assets/js/19.202e972f.js" defer></script><script src="/docs/assets/js/3.78921c3a.js" defer></script>
  </body>
</html>
